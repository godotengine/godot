Import('env')

if (env['rfs'] != 'no'):	
	f=open('fixed_rfs.h','wb')
	content = ' /* AUTOGENERATED FILE, DO NOT EDIT */ \n'
	content += '#include "core/ustring.h"\n'
	content += 'static const char _fixed_rfs[' + str(len(env['rfs'])+1) + '] ="' + env['rfs'] + '";\n'
	f.write(content)
	f.close()

env.main_sources=[]
env.add_source_files(env.main_sources,"*.cpp")

Export('env')

lib = env.Library("main",env.main_sources, LIBSUFFIX=env['platform_libsuffix'])

env.Prepend(LIBS=[lib])


