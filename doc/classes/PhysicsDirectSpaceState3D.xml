<?xml version="1.0" encoding="UTF-8" ?>
<class name="PhysicsDirectSpaceState3D" inherits="Object" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../class.xsd">
	<brief_description>
		Provides direct access to a physics space in the [PhysicsServer3D].
	</brief_description>
	<description>
		Provides direct access to a physics space in the [PhysicsServer3D]. It's used mainly to do queries against objects and areas residing in a given space.
		[b]Note:[/b] This class is not meant to be instantiated directly. Use [member World3D.direct_space_state] to get the world's physics 3D space state.
	</description>
	<tutorials>
		<link title="Physics introduction">$DOCS_URL/tutorials/physics/physics_introduction.html</link>
		<link title="Ray-casting">$DOCS_URL/tutorials/physics/ray-casting.html</link>
	</tutorials>
	<methods>
		<method name="cast_motion">
			<return type="bool" />
			<param index="0" name="parameters" type="PhysicsShapeQueryParameters3D" />
			<param index="1" name="result" type="PhysicsShapeCastResult3D" />
			<description>
				Checks how far a [Shape3D] can move along a given motion without colliding. The shape and motion parameters are supplied through [PhysicsShapeQueryParameters3D].
				If the query is successful, this method returns [code]true[/code] and writes the motion results into the [PhysicsShapeCastResult3D] object passed in [code skip-lint]result[/code]. If no collision occurs, it returns [code]false[/code].
				[b]Note:[/b] Any [Shape3D]s that the shape is already colliding with e.g. inside of, will be ignored. Use [method collide_shape] to determine the [Shape3D]s that the shape is already colliding with.
			</description>
		</method>
		<method name="collide_shape">
			<return type="bool" />
			<param index="0" name="parameters" type="PhysicsShapeQueryParameters3D" />
			<param index="1" name="result" type="PhysicsShapeCollisionResult3D" />
			<description>
				Checks the intersections of a shape, given through a [PhysicsShapeQueryParameters3D] object, against the space.
				If intersections are found, this method returns [code]true[/code] and writes the collision points into the [PhysicsShapeCollisionResult3D] object passed in [code skip-lint]result[/code]. If no intersections are found, it returns [code]false[/code].
				Like with [method intersect_shape], the number of returned results can be limited using [member PhysicsShapeCollisionResult3D.max_collisions], to reduce the processing time.
				[b]Note:[/b] This method does not take into account the [code]motion[/code] property of the object.
			</description>
		</method>
		<method name="get_rest_info">
			<return type="Dictionary" />
			<param index="0" name="parameters" type="PhysicsShapeQueryParameters3D" />
			<description>
				Checks the intersections of a shape, given through a [PhysicsShapeQueryParameters3D] object, against the space. If it collides with more than one shape, the nearest one is selected. The returned object is a dictionary containing the following fields:
				[code]collider_id[/code]: The colliding object's ID.
				[code]linear_velocity[/code]: The colliding object's velocity [Vector3]. If the object is an [Area3D], the result is [code](0, 0, 0)[/code].
				[code]normal[/code]: The collision normal of the query shape at the intersection point, pointing away from the intersecting object.
				[code]point[/code]: The intersection point.
				[code]rid[/code]: The intersecting object's [RID].
				[code]shape[/code]: The shape index of the colliding shape.
				If the shape did not intersect anything, then an empty dictionary is returned instead.
				[b]Note:[/b] This method does not take into account the [code]motion[/code] property of the object.
			</description>
		</method>
		<method name="intersect_point">
			<return type="bool" />
			<param index="0" name="parameters" type="PhysicsPointQueryParameters3D" />
			<param index="1" name="result" type="PhysicsPointIntersectionResult3D" />
			<description>
				Checks whether a point is inside any solid shape. The point position and query settings are defined through [PhysicsPointQueryParameters3D].
				If one or more shapes overlap the point, this method returns [code]true[/code] and writes the intersection data into the [PhysicsPointIntersectionResult3D] object passed in [code skip-lint]result[/code]. If no intersections are found, it returns [code]false[/code].
				The number of intersections can be limited using [member PhysicsPointIntersectionResult3D.max_collisions], to reduce the processing time.
			</description>
		</method>
		<method name="intersect_ray">
			<return type="bool" />
			<param index="0" name="parameters" type="PhysicsRayQueryParameters3D" />
			<param index="1" name="result" type="PhysicsRayIntersectionResult3D" />
			<description>
				Intersects a ray in a given space. The ray origin, direction, and all other parameters are defined through [PhysicsRayQueryParameters3D].
				If the ray hits a shape, this method returns [code]true[/code] and writes the intersection information into the [PhysicsRayIntersectionResult3D] object passed in [code skip-lint]result[/code]. If nothing is hit, it returns [code]false[/code].
			</description>
		</method>
		<method name="intersect_shape">
			<return type="bool" />
			<param index="0" name="parameters" type="PhysicsShapeQueryParameters3D" />
			<param index="1" name="result" type="PhysicsShapeIntersectionResult3D" />
			<description>
				Checks the intersections of a shape, given through a [PhysicsShapeQueryParameters3D] object, against the space.
				If one or more shapes are found, this method returns [code]true[/code] and writes the intersection data into the [PhysicsShapeIntersectionResult3D] object passed in [code skip-lint]result[/code]. If no shapes are overlapping, it returns [code]false[/code].
				The number of intersections can be limited using [member PhysicsShapeIntersectionResult3D.max_collisions], to reduce the processing time.
				[b]Note:[/b] This method does not take into account the [code]motion[/code] property of the object.
			</description>
		</method>
	</methods>
</class>
