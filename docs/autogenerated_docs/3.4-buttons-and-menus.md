# Buttons and Menus

<details>
<summary>Relevant source files</summary>

The following files were used as context for generating this wiki page:

- [doc/classes/AcceptDialog.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/AcceptDialog.xml)
- [doc/classes/BaseButton.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/BaseButton.xml)
- [doc/classes/Button.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/Button.xml)
- [doc/classes/ButtonGroup.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/ButtonGroup.xml)
- [doc/classes/CheckBox.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/CheckBox.xml)
- [doc/classes/CheckButton.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/CheckButton.xml)
- [doc/classes/ColorPickerButton.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/ColorPickerButton.xml)
- [doc/classes/ItemList.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/ItemList.xml)
- [doc/classes/LinkButton.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/LinkButton.xml)
- [doc/classes/MenuButton.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/MenuButton.xml)
- [doc/classes/OptionButton.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/OptionButton.xml)
- [doc/classes/Popup.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/Popup.xml)
- [doc/classes/PopupMenu.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/PopupMenu.xml)
- [doc/classes/Tree.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/Tree.xml)
- [doc/classes/TreeItem.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/TreeItem.xml)
- [scene/gui/base_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/base_button.cpp)
- [scene/gui/base_button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/base_button.h)
- [scene/gui/button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/button.cpp)
- [scene/gui/button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/button.h)
- [scene/gui/check_box.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/check_box.cpp)
- [scene/gui/check_box.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/check_box.h)
- [scene/gui/check_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/check_button.cpp)
- [scene/gui/check_button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/check_button.h)
- [scene/gui/dialogs.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/dialogs.cpp)
- [scene/gui/dialogs.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/dialogs.h)
- [scene/gui/item_list.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/item_list.cpp)
- [scene/gui/item_list.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/item_list.h)
- [scene/gui/link_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/link_button.cpp)
- [scene/gui/link_button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/link_button.h)
- [scene/gui/menu_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/menu_button.cpp)
- [scene/gui/menu_button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/menu_button.h)
- [scene/gui/option_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/option_button.cpp)
- [scene/gui/option_button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/option_button.h)
- [scene/gui/popup.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup.cpp)
- [scene/gui/popup.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup.h)
- [scene/gui/popup_menu.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup_menu.cpp)
- [scene/gui/popup_menu.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup_menu.h)
- [scene/gui/tree.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/tree.cpp)
- [scene/gui/tree.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/tree.h)
- [scene/property_list_helper.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/property_list_helper.cpp)
- [scene/property_list_helper.h](https://github.com/godotengine/godot/blob/4219ce91/scene/property_list_helper.h)

</details>



This document provides a technical overview of the Buttons and Menus system in the Godot Engine GUI framework. It covers the architecture, class hierarchy, and implementation details of interactive button controls and menu systems, including their relationships, behaviors, and extensibility points.

**Scope:**  
- This page documents the `BaseButton` class and its derivatives (`Button`, `OptionButton`, `MenuButton`, etc.), as well as menu-related controls such as `PopupMenu`.
- It also covers how these controls interact, how menus are structured, and how user input is processed.
- For information about the general GUI system and layout, see [Control Base Class and Layout](#3.1).
- For information about popups and window management, see [Windows and Popups](#3.5).
- For information about item lists and trees, see [Tree and Item List Controls](#3.3).

---

## Purpose of Buttons and Menus

Buttons and menus are core interactive elements in Godot's GUI system. They provide users with ways to trigger actions, select options, and navigate hierarchical or contextual choices. The system is designed to be extensible, themeable, and accessible, supporting both mouse and keyboard/gamepad input.

**Key responsibilities:**
- Rendering interactive button widgets and menu popups.
- Managing button states (pressed, toggled, disabled, etc.).
- Handling user input events and emitting signals.
- Supporting menu hierarchies, checkable/radio items, and keyboard shortcuts.

**Sources:**  
[scene/gui/base_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/base_button.cpp), [scene/gui/button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/button.cpp), [scene/gui/option_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/option_button.cpp), [scene/gui/menu_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/menu_button.cpp), [scene/gui/popup_menu.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup_menu.cpp), [scene/gui/popup_menu.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup_menu.h), [doc/classes/BaseButton.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/BaseButton.xml), [doc/classes/Button.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/Button.xml), [doc/classes/OptionButton.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/OptionButton.xml), [doc/classes/MenuButton.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/MenuButton.xml), [doc/classes/PopupMenu.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/PopupMenu.xml)

---

## High-Level Architecture

### Diagram: Buttons and Menus Class Hierarchy

```mermaid
classDiagram
    class "Control" {
        <<abstract>>
    }
    class "BaseButton" {
        +pressed()
        +toggled(bool)
        +set_pressed(bool)
        +set_toggle_mode(bool)
        +set_disabled(bool)
        +is_pressed() bool
        +is_toggle_mode() bool
        +is_disabled() bool
        +pressed (signal)
        +toggled (signal)
    }
    class "Button" {
        +text : String
        +icon : Texture2D
    }
    class "OptionButton" {
        +add_item(String, int)
        +add_icon_item(Texture2D, String, int)
        +select(int)
        +get_selected_id() int
        +get_item_count() int
        +get_popup() PopupMenu
    }
    class "MenuButton" {
        +get_popup() PopupMenu
        +show_popup()
    }
    class "PopupMenu" {
        +add_item(String, int, int)
        +add_check_item(String, int, int)
        +add_separator(String)
        +add_submenu_item(String, String)
        +set_item_checked(int, bool)
        +set_item_disabled(int, bool)
        +activate_item_by_event(InputEvent, bool) bool
        +id_pressed (signal)
    }

    Control <|-- BaseButton
    BaseButton <|-- Button
    Button <|-- OptionButton
    Button <|-- MenuButton
    Control <|-- PopupMenu
    OptionButton o-- PopupMenu : "owns"
    MenuButton o-- PopupMenu : "owns"
```

**Sources:**  
[scene/gui/base_button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/base_button.h), [scene/gui/button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/button.h), [scene/gui/option_button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/option_button.h), [scene/gui/menu_button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/menu_button.h), [scene/gui/popup_menu.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup_menu.h)

---

## Core Button System

### BaseButton

`BaseButton` is the abstract base class for all button controls. It manages button state, input handling, and signal emission. It supports toggle mode (for checkable/radio buttons), disabled state, and accessibility features.

**Key methods and properties:**

| Method / Property         | Description                                      |
|--------------------------|--------------------------------------------------|
| `set_pressed(bool)`      | Sets the pressed state (for toggle buttons).     |
| `is_pressed()`           | Returns whether the button is pressed.           |
| `set_toggle_mode(bool)`  | Enables/disables toggle mode.                    |
| `is_toggle_mode()`       | Returns whether toggle mode is enabled.          |
| `set_disabled(bool)`     | Disables/enables the button.                     |
| `is_disabled()`          | Returns whether the button is disabled.          |
| `pressed` (signal)       | Emitted when the button is pressed.              |
| `toggled` (signal)       | Emitted when the button is toggled.              |

**Input Handling:**  
- Handles mouse, keyboard, and shortcut events.
- Supports accessibility actions and updates.

**Sources:**  
[scene/gui/base_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/base_button.cpp), [scene/gui/base_button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/base_button.h), [doc/classes/BaseButton.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/BaseButton.xml)

---

### Button

`Button` is the standard themed button. It can display text and an icon, and supports theming and focus.

**Key features:**
- Inherits all behavior from `BaseButton`.
- Supports text and icon display.
- Integrates with the theme system for appearance.

**Sources:**  
[scene/gui/button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/button.cpp), [scene/gui/button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/button.h), [doc/classes/Button.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/Button.xml)

---

## Menu System

### PopupMenu

`PopupMenu` is a modal popup window that displays a list of selectable items. It supports checkable items, radio items, separators, submenus, keyboard shortcuts, and incremental search.

**Key methods:**

| Method / Property                | Description                                      |
|----------------------------------|--------------------------------------------------|
| `add_item(text, id, accel)`      | Adds a regular menu item.                        |
| `add_check_item(text, id, accel)`| Adds a checkable menu item.                      |
| `add_separator(text)`            | Adds a separator line.                           |
| `add_submenu_item(text, submenu)`| Adds a submenu item.                             |
| `set_item_checked(idx, bool)`    | Sets the checked state of an item.               |
| `set_item_disabled(idx, bool)`   | Disables/enables an item.                        |
| `activate_item_by_event(event)`  | Activates an item by input event (shortcut).     |
| `id_pressed` (signal)            | Emitted when an item is activated.               |

**Features:**
- Scrollable if content exceeds maximum size.
- Supports keyboard/gamepad navigation and search.
- Can be used standalone or as part of other controls.

**Sources:**  
[scene/gui/popup_menu.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup_menu.cpp), [scene/gui/popup_menu.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup_menu.h), [doc/classes/PopupMenu.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/PopupMenu.xml)

---

### OptionButton

`OptionButton` is a dropdown button for selecting one item from a list. It displays the current selection as its label and shows a `PopupMenu` when pressed.

**Key behaviors:**
- Owns an internal `PopupMenu` for its dropdown.
- Only one item can be selected at a time.
- Supports icons, tooltips, and item metadata.

**Relevant methods:**

| Method / Property         | Description                                      |
|--------------------------|--------------------------------------------------|
| `add_item(text, id)`     | Adds an item to the dropdown.                    |
| `add_icon_item(icon, text, id)` | Adds an item with an icon.                |
| `select(idx)`            | Selects an item by index.                        |
| `get_selected_id()`      | Returns the ID of the selected item.             |
| `get_popup()`            | Returns the internal `PopupMenu`.                |

**Sources:**  
[scene/gui/option_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/option_button.cpp), [scene/gui/option_button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/option_button.h), [doc/classes/OptionButton.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/OptionButton.xml)

---

### MenuButton

`MenuButton` is a button that displays a `PopupMenu` when pressed. It is commonly used for toolbar menus and context menus.

**Key behaviors:**
- Owns an internal `PopupMenu`.
- Can be configured to show the popup on hover.
- Emits signals when the popup is about to be shown.

**Relevant methods:**

| Method / Property         | Description                                      |
|--------------------------|--------------------------------------------------|
| `get_popup()`            | Returns the internal `PopupMenu`.                |
| `show_popup()`           | Shows the popup menu.                            |
| `set_switch_on_hover()`  | Enables showing the popup on hover.              |

**Sources:**  
[scene/gui/menu_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/menu_button.cpp), [scene/gui/menu_button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/menu_button.h), [doc/classes/MenuButton.xml](https://github.com/godotengine/godot/blob/4219ce91/doc/classes/MenuButton.xml)

---

## Button and Menu Input Flow

### Diagram: Input Event Flow for Buttons and Menus

```mermaid
flowchart TD
    "InputEvent"["InputEvent"]
    "BaseButton::gui_input"["BaseButton::gui_input()"]
    "BaseButton::on_action_event"["BaseButton::on_action_event()"]
    "BaseButton::pressed"["BaseButton::pressed()"]
    "BaseButton::toggled"["BaseButton::toggled()"]
    "PopupMenu::activate_item_by_event"["PopupMenu::activate_item_by_event()"]
    "PopupMenu::id_pressed"["PopupMenu::id_pressed (signal)"]
    "OptionButton::shortcut_input"["OptionButton::shortcut_input()"]
    "MenuButton::shortcut_input"["MenuButton::shortcut_input()"]

    "InputEvent" --> "BaseButton::gui_input"
    "BaseButton::gui_input" --> "BaseButton::on_action_event"
    "BaseButton::on_action_event" --> "BaseButton::pressed"
    "BaseButton::on_action_event" --> "BaseButton::toggled"
    "InputEvent" --> "OptionButton::shortcut_input"
    "InputEvent" --> "MenuButton::shortcut_input"
    "OptionButton::shortcut_input" --> "PopupMenu::activate_item_by_event"
    "MenuButton::shortcut_input" --> "PopupMenu::activate_item_by_event"
    "PopupMenu::activate_item_by_event" --> "PopupMenu::id_pressed"
```

**Sources:**  
[scene/gui/base_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/base_button.cpp), [scene/gui/option_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/option_button.cpp), [scene/gui/menu_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/menu_button.cpp), [scene/gui/popup_menu.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup_menu.cpp)

---

## Menu Item Structure and Features

### Diagram: PopupMenu Item Data Structure

```mermaid
classDiagram
    class "PopupMenu::Item" {
        +icon : Ref<Texture2D>
        +text : String
        +id : int
        +checked : bool
        +checkable_type : enum
        +separator : bool
        +disabled : bool
        +submenu : PopupMenu*
        +shortcut : Ref<Shortcut>
        +metadata : Variant
        +tooltip : String
        +accel : Key
    }
    class "PopupMenu" {
        +items : Vector<Item>
        +add_item()
        +add_check_item()
        +add_separator()
        +add_submenu_item()
        +set_item_checked()
        +set_item_disabled()
        +set_item_metadata()
    }
    PopupMenu "1" o-- "*" "PopupMenu::Item" : "items"
    PopupMenu::Item "1" o-- "0..1" PopupMenu : "submenu"
```

**Sources:**  
[scene/gui/popup_menu.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup_menu.h), [scene/gui/popup_menu.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup_menu.cpp)

---

## Accessibility and Theming

- All button and menu controls support accessibility roles and actions, updating their state for assistive technologies.
- The appearance of buttons and menus is controlled by the theme system, allowing customization of styleboxes, fonts, icons, and colors.

**Sources:**  
[scene/gui/base_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/base_button.cpp), [scene/gui/button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/button.cpp), [scene/gui/popup_menu.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup_menu.cpp), [scene/theme/theme_db.h](https://github.com/godotengine/godot/blob/4219ce91/scene/theme/theme_db.h)

---

## Extensibility and Integration

- Custom button types can be created by inheriting from `BaseButton`.
- Menus can be dynamically constructed and updated at runtime.
- Menu items can have custom metadata, tooltips, and shortcuts.
- `PopupMenu` can be used standalone or as part of other controls (e.g., `OptionButton`, `MenuButton`).

**Sources:**  
[scene/gui/base_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/base_button.cpp), [scene/gui/popup_menu.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup_menu.cpp), [scene/gui/option_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/option_button.cpp), [scene/gui/menu_button.cpp](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/menu_button.cpp)

---

## Summary Table: Main Classes and Their Roles

| Class Name         | File(s)                        | Description                                      |
|--------------------|--------------------------------|--------------------------------------------------|
| `BaseButton`       | base_button.h/cpp              | Abstract base for all button controls.           |
| `Button`           | button.h/cpp                   | Standard themed button.                          |
| `OptionButton`     | option_button.h/cpp            | Dropdown button for single selection.            |
| `MenuButton`       | menu_button.h/cpp              | Button that shows a popup menu.                  |
| `PopupMenu`        | popup_menu.h/cpp               | Modal popup menu with selectable items.          |

**Sources:**  
[scene/gui/base_button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/base_button.h), [scene/gui/button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/button.h), [scene/gui/option_button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/option_button.h), [scene/gui/menu_button.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/menu_button.h), [scene/gui/popup_menu.h](https://github.com/godotengine/godot/blob/4219ce91/scene/gui/popup_menu.h)

---

## Related Systems

- For general GUI layout and container controls, see [Control Base Class and Layout](#3.1).
- For popups, dialogs, and window management, see [Windows and Popups](#3.5).
- For item lists and tree controls, see [Tree and Item List Controls](#3.3).

---